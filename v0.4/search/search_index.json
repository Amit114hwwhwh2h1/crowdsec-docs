{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"[Hub] [Releases] Warning For crowdsec versions <= 1.0 please refer to v0.3.X For crowdsec versions >= 1.0 please refer to v1.X What is Crowdsec-agent ? \u00b6 Crowdsec-agent is an open-source and lightweight software that allows you to detect peers with malevolent behaviors and block them from accessing your systems at various level (infrastructural, system, applicative). To achieve this, Crowdsec-agent reads logs from different sources (files, streams ...) to parse, normalize and enrich them before matching them to threats patterns called scenarios. Crowdsec-agent is a modular and plug-able framework, it ships a large variety of well known popular scenarios ; users can choose what scenarios they want to be protected from as well as easily adding new custom ones to better fit their environment. Detected malevolent peers can then be prevented from accessing your resources by deploying bouncers at various levels (applicative, system, infrastructural) of your stack. One of the advantages of Crowdsec when compared to other solutions is its crowd-sourced aspect : Meta information about detected attacks (source IP, time and triggered scenario) are sent to a central API and then shared amongst all users. Thanks to this, besides detecting and stopping attacks in real time based on your logs, it allows you to preemptively block known bad actors from accessing your information system. Main features \u00b6 Crowdsec, besides the core \"detect and react\" mechanism, is committed to a few other key points : Easy Installation : The provided wizard allows a trivial deployment on most standard setups Easy daily operations : Using cscli and the Crowdsec Hub , keeping your detection mechanisms up-to-date is trivial Reproducibility : Crowdsec can run not only against live logs, but as well against cold logs. It makes it a lot easier to detect potential false-positives, perform forensic ou generate reporting Observability : Providing strongs insights on what is going on and what Crowdsec is doing : Humans have access to a trivially deployable web interface OPs have access to detailed prometheus metrics Admins have a friendly command-line interface tool About this documentation \u00b6 This document is split according to major Crowdsec-agent versions : Crowdsec v0 Refers to versions 0.3.X , before the local API was introduced. ( note: this is going to be deprecated and your are strongly incited to migrate to versions 1.X ) Crowdsec v1 Refers to versions 1.X , it is the current version","title":"Home"},{"location":"#what-is-crowdsec-agent","text":"Crowdsec-agent is an open-source and lightweight software that allows you to detect peers with malevolent behaviors and block them from accessing your systems at various level (infrastructural, system, applicative). To achieve this, Crowdsec-agent reads logs from different sources (files, streams ...) to parse, normalize and enrich them before matching them to threats patterns called scenarios. Crowdsec-agent is a modular and plug-able framework, it ships a large variety of well known popular scenarios ; users can choose what scenarios they want to be protected from as well as easily adding new custom ones to better fit their environment. Detected malevolent peers can then be prevented from accessing your resources by deploying bouncers at various levels (applicative, system, infrastructural) of your stack. One of the advantages of Crowdsec when compared to other solutions is its crowd-sourced aspect : Meta information about detected attacks (source IP, time and triggered scenario) are sent to a central API and then shared amongst all users. Thanks to this, besides detecting and stopping attacks in real time based on your logs, it allows you to preemptively block known bad actors from accessing your information system.","title":"What is Crowdsec-agent ?"},{"location":"#main-features","text":"Crowdsec, besides the core \"detect and react\" mechanism, is committed to a few other key points : Easy Installation : The provided wizard allows a trivial deployment on most standard setups Easy daily operations : Using cscli and the Crowdsec Hub , keeping your detection mechanisms up-to-date is trivial Reproducibility : Crowdsec can run not only against live logs, but as well against cold logs. It makes it a lot easier to detect potential false-positives, perform forensic ou generate reporting Observability : Providing strongs insights on what is going on and what Crowdsec is doing : Humans have access to a trivially deployable web interface OPs have access to detailed prometheus metrics Admins have a friendly command-line interface tool","title":"Main features"},{"location":"#about-this-documentation","text":"This document is split according to major Crowdsec-agent versions : Crowdsec v0 Refers to versions 0.3.X , before the local API was introduced. ( note: this is going to be deprecated and your are strongly incited to migrate to versions 1.X ) Crowdsec v1 Refers to versions 1.X , it is the current version","title":"About this documentation"},{"location":"contributing/","text":"Contributing \u00b6 You have an idea, a suggestion or you spotted a mistake ? Help us improve the software and the user experience, to make the internet a safer place together ! Contributing to the documentation \u00b6 If you spotted some mistakes in the documentation or have improvement suggestions, you can : open a new documentation issue if you are comfortable with github let us know on CrowdSecurity discourse if you want to discuss about it Let us as well know if you have some improvement suggestions ! Preview your documentation changes locally python3 -m venv cs-env source cs-env/bin/activate pip install -r docs/requirements.txt mkdocs serve Contributing to the code \u00b6 If you want to report a bug, you can use the github bugtracker If you want to suggest an improvement you can use either the github bugtracker or the CrowdSecurity discourse if you want to discuss Contributing to the parsers/scenarios \u00b6 If you want to contribute your parser or scenario to the community and have them appear on the Crowdsec Hub , you should open a merge request on the hub. We are currently working on a proper CI for the Crowdsec Hub , so for now all contribution are subject to peer-review, please bear with us ! Contacting the team \u00b6 If you want to contact us using non-public media, you can contact us on support AT crowdsec DOT net with the following gpg-key : -----BEGIN PGP PUBLIC KEY BLOCK----- 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 =Edl+ -----END PGP PUBLIC KEY BLOCK----- Publishing bouncers \u00b6 We do welcome bouncers from the community, and will gladly publish them on the hub. Why ? \u00b6 Sharing your bouncer on the hub allows other users to find it and use it. While increasing your code's visibility, it ensures as well a benevolent look from the community and the team over it. How ? \u00b6 To have your bouncer published on the hub, please simply open a new issue on the hub , requesting \"bouncer inclusion\". The bouncer will then be reviewed by the team, and then will be published directly on the hub, for everyone to find & use it ! The information that should be stated in your issue are : The source repository of your bouncer (for example https://github.com/crowdsecurity/cs-firewall-bouncer/ ) The software licence used The current status of the bouncer (stage : dev/unstable/stable) Documentation (can be simply in the README.md) : must contains : installing, uninstalling should contains : configuration documentation Link to existing tests if applicable (functional tests or unit tests) Please take care of the following : Ensure your repository has a About/Short description meaningful enough : it will be displayed in the hub Ensure your repository has a decent README.md file : it will be displayed in the hub Ensure your repository has at least one release : this is what users will be looking for (ideally) Have a \"social preview image\" on your repository : this will be displayed in the hub when available (ideally) A Howto or link to guide that provides a hands-on experience with the bouncer Please find below a template : Hello, I would like to suggest the addition of the `XXXX` to the hub : - Source repository: https://github.com/xxx/xxx/ - Licence : MIT - Current status : stable (has been used in production for a while) - README/doc : https://github.com/xxx/xxx/blob/main/README.md - Existing tests : - functional tests : https://github.com/xxx/xxx/blob/main/.github/workflows/tests.yml - Short/Long description : OK - Howto : in README - At least one release : yes Publishing parsers, scenarios and collections \u00b6 Why ? \u00b6 Sharing your parsers, scenarios and collections on the hub allows other users to find it and use it. While increasing your code's visibility, it ensures as well a benevolent look from the community and the team over it. How ? \u00b6 To have your parser/scenario published on the hub, please simply open a new issue on the hub , requesting \"parser/scenario inclusion\". The configurations will then be reviewed by the team, and then will be published directly on the hub, for everyone to find & use it !","title":"Guide"},{"location":"contributing/#contributing","text":"You have an idea, a suggestion or you spotted a mistake ? Help us improve the software and the user experience, to make the internet a safer place together !","title":"Contributing"},{"location":"contributing/#contributing-to-the-documentation","text":"If you spotted some mistakes in the documentation or have improvement suggestions, you can : open a new documentation issue if you are comfortable with github let us know on CrowdSecurity discourse if you want to discuss about it Let us as well know if you have some improvement suggestions ! Preview your documentation changes locally python3 -m venv cs-env source cs-env/bin/activate pip install -r docs/requirements.txt mkdocs serve","title":"Contributing to the documentation"},{"location":"contributing/#contributing-to-the-code","text":"If you want to report a bug, you can use the github bugtracker If you want to suggest an improvement you can use either the github bugtracker or the CrowdSecurity discourse if you want to discuss","title":"Contributing to the code"},{"location":"contributing/#contributing-to-the-parsersscenarios","text":"If you want to contribute your parser or scenario to the community and have them appear on the Crowdsec Hub , you should open a merge request on the hub. We are currently working on a proper CI for the Crowdsec Hub , so for now all contribution are subject to peer-review, please bear with us !","title":"Contributing to the parsers/scenarios"},{"location":"contributing/#contacting-the-team","text":"If you want to contact us using non-public media, you can contact us on support AT crowdsec DOT net with the following gpg-key : -----BEGIN PGP PUBLIC KEY BLOCK----- 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 =Edl+ -----END PGP PUBLIC KEY BLOCK-----","title":"Contacting the team"},{"location":"contributing/#publishing-bouncers","text":"We do welcome bouncers from the community, and will gladly publish them on the hub.","title":"Publishing bouncers"},{"location":"contributing/#why","text":"Sharing your bouncer on the hub allows other users to find it and use it. While increasing your code's visibility, it ensures as well a benevolent look from the community and the team over it.","title":"Why ?"},{"location":"contributing/#how","text":"To have your bouncer published on the hub, please simply open a new issue on the hub , requesting \"bouncer inclusion\". The bouncer will then be reviewed by the team, and then will be published directly on the hub, for everyone to find & use it ! The information that should be stated in your issue are : The source repository of your bouncer (for example https://github.com/crowdsecurity/cs-firewall-bouncer/ ) The software licence used The current status of the bouncer (stage : dev/unstable/stable) Documentation (can be simply in the README.md) : must contains : installing, uninstalling should contains : configuration documentation Link to existing tests if applicable (functional tests or unit tests) Please take care of the following : Ensure your repository has a About/Short description meaningful enough : it will be displayed in the hub Ensure your repository has a decent README.md file : it will be displayed in the hub Ensure your repository has at least one release : this is what users will be looking for (ideally) Have a \"social preview image\" on your repository : this will be displayed in the hub when available (ideally) A Howto or link to guide that provides a hands-on experience with the bouncer Please find below a template : Hello, I would like to suggest the addition of the `XXXX` to the hub : - Source repository: https://github.com/xxx/xxx/ - Licence : MIT - Current status : stable (has been used in production for a while) - README/doc : https://github.com/xxx/xxx/blob/main/README.md - Existing tests : - functional tests : https://github.com/xxx/xxx/blob/main/.github/workflows/tests.yml - Short/Long description : OK - Howto : in README - At least one release : yes","title":"How ?"},{"location":"contributing/#publishing-parsers-scenarios-and-collections","text":"","title":"Publishing parsers, scenarios and collections"},{"location":"contributing/#why_1","text":"Sharing your parsers, scenarios and collections on the hub allows other users to find it and use it. While increasing your code's visibility, it ensures as well a benevolent look from the community and the team over it.","title":"Why ?"},{"location":"contributing/#how_1","text":"To have your parser/scenario published on the hub, please simply open a new issue on the hub , requesting \"parser/scenario inclusion\". The configurations will then be reviewed by the team, and then will be published directly on the hub, for everyone to find & use it !","title":"How ?"},{"location":"faq/","text":"FREQUENTLY ASKED QUESTIONS \u00b6 What is crowdsec-agent ? \u00b6 Crowdsec-agent is a security open-source software. See the overview . I've installed crowdsec, it detects attacks but doesn't block anything ?! \u00b6 Yes, Crowdsec-agent is in charge of detecting attacks, and bouncers are applying decisions. If you want to block the detected IPs, you should deploy a bouncer, such as the ones found on the hub ! What language is it written in ? \u00b6 Crowdsec-agent is written in Golang . What licence is crowdsec-agent released under ? \u00b6 Crowdsec-agent is under MIT license . Which information is sent to the APIs ? \u00b6 Our aim is to build a strong community that can share malevolent attackers IPs, for that we need to collect the bans triggered locally by each user. The signal sent by your crowdsec-agent to the central API only contains only meta-data about the attack : Attacker IP Scenario name Time of start/end of attack Your logs are not sent to our central API, only meta-data about blocked attacks will be. When pulling block-lists from the platform, the following information is shared as well : list of upstream installed scenarios list of bouncers & number of machines What is the performance impact ? \u00b6 As crowdsec-agent only works on logs, it shouldn't impact your production. When it comes to bouncers, it should perform one request to the database when a new IP is discovered thus have minimal performance impact. How fast is it ? \u00b6 crowdsec-agent can easily handle several thousands of events per second on a rich pipeline (multiple parsers, geoip enrichment, scenarios and so on). Logs are a good fit for sharding by default, so it is definitely the way to go if you need to handle higher throughput. If you need help for large scale deployment, please get in touch with us on the CrowdSecurity discourse , we love challenges ;) What backend database does Crowdsec-agent supports and how to switch ? \u00b6 crowdsec-agent versions (under v0.3.X) supports SQLite (default) and MySQL databases. See backend configuration for relevant configuration. MySQL here is more suitable for distributed architectures where bouncers across the applicative stack need to access a centralized ban database. crowdsec-agent versions (after v1) supports SQLite (default), MySQL and PostgreSQL databases. See databases configuration for relevant configuration. Thanks to the Local API , distributed architectures are resolved even with sqlite database. SQLite by default as it's suitable for standalone/single-machine setups. How to control granularity of actions ? (whitelists, simulation etc.) \u00b6 crowdsec-agent support both whitelists and simulation : Whitelists allows you to \"discard\" events or overflows Simulation allows you to simply cancel the decision that is going to be taken, but keep track of it profiles allows you to control which decision will be applied to which alert. How to know if my setup is working correctly ? Some of my logs are unparsed, is it normal ? \u00b6 Yes, crowdsec parsers only parse the logs that are relevant for scenarios :) Take a look at cscli metrics and understand what do they mean to know if your setup is correct. How to add whitelists ? \u00b6 You can follow this guide How to set up proxy ? \u00b6 Setting up a proxy works out of the box, the net/http golang library can handle those environment variables: HTTP_PROXY HTTPS_PROXY NO_PROXY For example: export HTTP_PROXY=http://<proxy_url>:<proxy_port> Systemd variable \u00b6 On Systemd devices you have to set the proxy variable in the environment section for the CrowdSec service. To avoid overwriting the service file during an update, a folder is created in /etc/systemd/system/crowdsec.service.d and a file in it named http-proxy.conf . The content for this file should look something like this: [Service] Environment=HTTP_PROXY=http://myawesomeproxy.com:8080 Environment=HTTPS_PROXY=https://myawesomeproxy.com:443 After this change you need to reload the systemd daemon using: systemctl daemon-reload Then you can restart CrowdSec like this: systemctl restart crowdsec Sudo \u00b6 If you use sudo cscli, just add this line in visudo after setting up the previous environment variables: Defaults env_keep += \"HTTP_PROXY HTTPS_PROXY NO_PROXY\" How to report a bug ? \u00b6 To report a bug, please open an issue on the repository . What about false positives ? \u00b6 Several initiatives have been taken to tackle the false positives approach as early as possible : The scenarios published on the hub are tailored to favor low false positive rates You can find generic whitelists that should allow to cover most common cases (SEO whitelists, CDN whitelists etc.) The simulation configuration allows you to keep a tight control over scenario and their false positives I need some help \u00b6 Feel free to ask for some help to the CrowdSecurity discourse or directly in the chat. How to use crowdsec on raspberry pi OS (formerly known as rasbian) \u00b6 Please keep in mind that raspberry pi OS is designed to work on all raspberry pi versions. Even if the port target is known as armhf, it's not exactly the same target as the debian named armhf port. The best way to have a crowdsec version for such an architecture is to do: install golang (all versions from 1.13 will do) export GOARCH=arm export CGO=1 Update the GOARCH variable in the Makefile to arm install the arm gcc cross compilator (On debian the package is gcc-arm-linux-gnueabihf) Compile crowdsec using the usual make command How to have a dashboard without docker \u00b6 cscli dashboard rely on docker to launch the metabase image. If docker is not installed on your machine, here are the step to follow to get crowdsec dashboards without docker: Download Metabase jar file. See metabase documentation . Download the metabase.db folder from Crowdsec here . Unzip the zip file: unzip metabase_sqlite.zip Make crowdsec database reachable from metabase : sudo mkdir /metabase-data/ sudo ln -s /var/lib/crowdsec/data/crowdsec.db /metabase-data/crowdsec.db Launch Metabase: sudo MB_DB_TYPE = h2 MB_DB_FILE = <absolute-path>/metabase.db/metabase.db java -jar metabase.jar Warning The default username is crowdsec@crowdsec.net and the default password is !!Cr0wdS3c_M3t4b4s3?? . Please update the password when you will connect to metabase for the first time You can as well check liberodark's helper script for it . How to configure crowdsec/cscli to use Tor \u00b6 It is possible to configure cscli and crowdsec to use tor to anonymously interact with our API. All (http) requests made to the central API to go through the tor network . With tor installed, setting HTTP_PROXY and HTTPS_PROXY environment variables to your socks5 proxy will do the trick. Running the wizard with tor \u00b6 $ sudo HTTPS_PROXY = socks5://127.0.0.1:9050 HTTP_PROXY = socks5://127.0.0.1:9050 ./wizard.sh --bininstall Warning Do not use the wizard in interactive ( -i ) mode if you're concerned, as it will start the service at the end of the setup, leaking your IP address. Edit crowdsec systemd unit to push/pull via tor \u00b6 [ Service ] Environment = \"HTTPS_PROXY=socks5://127.0.0.1:9050\" Environment = \"HTTP_PROXY=socks5://127.0.0.1:9050\" ... Using cscli via tor \u00b6 $ sudo HTTP_PROXY = socks5://127.0.0.1:9050 HTTPS_PROXY = socks5://127.0.0.1:9050 cscli capi register","title":"Questions"},{"location":"faq/#frequently-asked-questions","text":"","title":"FREQUENTLY ASKED QUESTIONS"},{"location":"faq/#what-is-crowdsec-agent","text":"Crowdsec-agent is a security open-source software. See the overview .","title":"What is crowdsec-agent ?"},{"location":"faq/#ive-installed-crowdsec-it-detects-attacks-but-doesnt-block-anything","text":"Yes, Crowdsec-agent is in charge of detecting attacks, and bouncers are applying decisions. If you want to block the detected IPs, you should deploy a bouncer, such as the ones found on the hub !","title":"I've installed crowdsec, it detects attacks but doesn't block anything ?!"},{"location":"faq/#what-language-is-it-written-in","text":"Crowdsec-agent is written in Golang .","title":"What language is it written in ?"},{"location":"faq/#what-licence-is-crowdsec-agent-released-under","text":"Crowdsec-agent is under MIT license .","title":"What licence is crowdsec-agent released under ?"},{"location":"faq/#which-information-is-sent-to-the-apis","text":"Our aim is to build a strong community that can share malevolent attackers IPs, for that we need to collect the bans triggered locally by each user. The signal sent by your crowdsec-agent to the central API only contains only meta-data about the attack : Attacker IP Scenario name Time of start/end of attack Your logs are not sent to our central API, only meta-data about blocked attacks will be. When pulling block-lists from the platform, the following information is shared as well : list of upstream installed scenarios list of bouncers & number of machines","title":"Which information is sent to the APIs ?"},{"location":"faq/#what-is-the-performance-impact","text":"As crowdsec-agent only works on logs, it shouldn't impact your production. When it comes to bouncers, it should perform one request to the database when a new IP is discovered thus have minimal performance impact.","title":"What is the performance impact ?"},{"location":"faq/#how-fast-is-it","text":"crowdsec-agent can easily handle several thousands of events per second on a rich pipeline (multiple parsers, geoip enrichment, scenarios and so on). Logs are a good fit for sharding by default, so it is definitely the way to go if you need to handle higher throughput. If you need help for large scale deployment, please get in touch with us on the CrowdSecurity discourse , we love challenges ;)","title":"How fast is it ?"},{"location":"faq/#what-backend-database-does-crowdsec-agent-supports-and-how-to-switch","text":"crowdsec-agent versions (under v0.3.X) supports SQLite (default) and MySQL databases. See backend configuration for relevant configuration. MySQL here is more suitable for distributed architectures where bouncers across the applicative stack need to access a centralized ban database. crowdsec-agent versions (after v1) supports SQLite (default), MySQL and PostgreSQL databases. See databases configuration for relevant configuration. Thanks to the Local API , distributed architectures are resolved even with sqlite database. SQLite by default as it's suitable for standalone/single-machine setups.","title":"What backend database does Crowdsec-agent supports and how to switch ?"},{"location":"faq/#how-to-control-granularity-of-actions-whitelists-simulation-etc","text":"crowdsec-agent support both whitelists and simulation : Whitelists allows you to \"discard\" events or overflows Simulation allows you to simply cancel the decision that is going to be taken, but keep track of it profiles allows you to control which decision will be applied to which alert.","title":"How to control granularity of actions ? (whitelists, simulation etc.)"},{"location":"faq/#how-to-know-if-my-setup-is-working-correctly-some-of-my-logs-are-unparsed-is-it-normal","text":"Yes, crowdsec parsers only parse the logs that are relevant for scenarios :) Take a look at cscli metrics and understand what do they mean to know if your setup is correct.","title":"How to know if my setup is working correctly ? Some of my logs are unparsed, is it normal ?"},{"location":"faq/#how-to-add-whitelists","text":"You can follow this guide","title":"How to add whitelists ?"},{"location":"faq/#how-to-set-up-proxy","text":"Setting up a proxy works out of the box, the net/http golang library can handle those environment variables: HTTP_PROXY HTTPS_PROXY NO_PROXY For example: export HTTP_PROXY=http://<proxy_url>:<proxy_port>","title":"How to set up proxy ?"},{"location":"faq/#systemd-variable","text":"On Systemd devices you have to set the proxy variable in the environment section for the CrowdSec service. To avoid overwriting the service file during an update, a folder is created in /etc/systemd/system/crowdsec.service.d and a file in it named http-proxy.conf . The content for this file should look something like this: [Service] Environment=HTTP_PROXY=http://myawesomeproxy.com:8080 Environment=HTTPS_PROXY=https://myawesomeproxy.com:443 After this change you need to reload the systemd daemon using: systemctl daemon-reload Then you can restart CrowdSec like this: systemctl restart crowdsec","title":"Systemd variable"},{"location":"faq/#sudo","text":"If you use sudo cscli, just add this line in visudo after setting up the previous environment variables: Defaults env_keep += \"HTTP_PROXY HTTPS_PROXY NO_PROXY\"","title":"Sudo"},{"location":"faq/#how-to-report-a-bug","text":"To report a bug, please open an issue on the repository .","title":"How to report a bug ?"},{"location":"faq/#what-about-false-positives","text":"Several initiatives have been taken to tackle the false positives approach as early as possible : The scenarios published on the hub are tailored to favor low false positive rates You can find generic whitelists that should allow to cover most common cases (SEO whitelists, CDN whitelists etc.) The simulation configuration allows you to keep a tight control over scenario and their false positives","title":"What about false positives ?"},{"location":"faq/#i-need-some-help","text":"Feel free to ask for some help to the CrowdSecurity discourse or directly in the chat.","title":"I need some help"},{"location":"faq/#how-to-use-crowdsec-on-raspberry-pi-os-formerly-known-as-rasbian","text":"Please keep in mind that raspberry pi OS is designed to work on all raspberry pi versions. Even if the port target is known as armhf, it's not exactly the same target as the debian named armhf port. The best way to have a crowdsec version for such an architecture is to do: install golang (all versions from 1.13 will do) export GOARCH=arm export CGO=1 Update the GOARCH variable in the Makefile to arm install the arm gcc cross compilator (On debian the package is gcc-arm-linux-gnueabihf) Compile crowdsec using the usual make command","title":"How to use crowdsec on raspberry pi OS (formerly known as rasbian)"},{"location":"faq/#how-to-have-a-dashboard-without-docker","text":"cscli dashboard rely on docker to launch the metabase image. If docker is not installed on your machine, here are the step to follow to get crowdsec dashboards without docker: Download Metabase jar file. See metabase documentation . Download the metabase.db folder from Crowdsec here . Unzip the zip file: unzip metabase_sqlite.zip Make crowdsec database reachable from metabase : sudo mkdir /metabase-data/ sudo ln -s /var/lib/crowdsec/data/crowdsec.db /metabase-data/crowdsec.db Launch Metabase: sudo MB_DB_TYPE = h2 MB_DB_FILE = <absolute-path>/metabase.db/metabase.db java -jar metabase.jar Warning The default username is crowdsec@crowdsec.net and the default password is !!Cr0wdS3c_M3t4b4s3?? . Please update the password when you will connect to metabase for the first time You can as well check liberodark's helper script for it .","title":"How to have a dashboard without docker"},{"location":"faq/#how-to-configure-crowdseccscli-to-use-tor","text":"It is possible to configure cscli and crowdsec to use tor to anonymously interact with our API. All (http) requests made to the central API to go through the tor network . With tor installed, setting HTTP_PROXY and HTTPS_PROXY environment variables to your socks5 proxy will do the trick.","title":"How to configure crowdsec/cscli to use Tor"},{"location":"faq/#running-the-wizard-with-tor","text":"$ sudo HTTPS_PROXY = socks5://127.0.0.1:9050 HTTP_PROXY = socks5://127.0.0.1:9050 ./wizard.sh --bininstall Warning Do not use the wizard in interactive ( -i ) mode if you're concerned, as it will start the service at the end of the setup, leaking your IP address.","title":"Running the wizard with tor"},{"location":"faq/#edit-crowdsec-systemd-unit-to-pushpull-via-tor","text":"[ Service ] Environment = \"HTTPS_PROXY=socks5://127.0.0.1:9050\" Environment = \"HTTP_PROXY=socks5://127.0.0.1:9050\" ...","title":"Edit crowdsec systemd unit to push/pull via tor"},{"location":"faq/#using-cscli-via-tor","text":"$ sudo HTTP_PROXY = socks5://127.0.0.1:9050 HTTPS_PROXY = socks5://127.0.0.1:9050 cscli capi register","title":"Using cscli via tor"}]}